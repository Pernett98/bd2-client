<section flex>
  <div class="col s12 m12">

    <md-sidenav class="md-sidenav-left md-whiteframe-4dp" md-component-id="left-volquetas">
      <md-toolbar class="md-theme-light">
        <h1 class="md-toolbar-tools">{{volquetasVm.modalConfig.title}}</h1>
      </md-toolbar>
      <md-content layout-padding>
        <form>
          <md-input-container>
            <label for="placaInput">Placa</label>
            <input type="text" id="placaInput" required md-maxlength="10" ng-model="volquetasVm.formVolqueta.PLACA" ng-disabled="volquetasVm.modalConfig.type !== 'create' ? true : false" md-autofocus>
            <div ng-messages="volquetasVm.formVolqueta.PLACA.$error" role="alert" multiple>
             <div ng-message="required" class="my-message">La Placa de la volqueta es obligatoria</div>
             <div ng-message="md-maxlength" class="my-message">
               Ha superado el maximo de caracteres permitidos
             </div>
           </div>
          </md-input-container>

          <md-input-container>
            <label for="empresaInput">Empresa</label>
            <md-select id="empresaInput" ng-model="volquetasVm.formVolqueta.ID_EMPRESA" required>
              <md-option ng-repeat="empresa in volquetasVm.empresas" ng-value="empresa.NIT">
                {{empresa.NOMBRE}}
              </md-option>
            </md-select>
          </md-input-container>

          <md-input-container>
            <label for="coloresInput">Color</label>
            <md-select id="coloresInput" ng-model="volquetasVm.formVolqueta.ID_COLOR" required>
              <md-option ng-repeat="color in volquetasVm.colores" ng-value="color.ID_COLOR">
                {{color.DESCRIPCION_COLOR}}
              </md-option>
            </md-select>
          </md-input-container>

          <md-input-container>
            <label for="modeloInput">Modelo</label>
            <md-select id="modeloInput" ng-model="volquetasVm.formVolqueta.ID_MODELO" required>
              <md-option ng-repeat="modelo in volquetasVm.modelos" ng-value="modelo.ID_MODELO">
                {{modelo.DESCRIPCION_MODELO + ' - ' + modelo.NOMBRE_MARCA}}
              </md-option>
            </md-select>
          </md-input-container>

        </form>
        <md-button submit class="md-primary" ng-click="volquetasVm.modalConfig.submitFunction()">
          GUARDAR
        </md-button>
      </md-content>
    </md-sidenav>

    <div class="row">
      <table class="highlight responsive-table">
        <thead>
          <tr>
            <th data-field="id_car">Placa de volqueta</th>
            <th data-field="id">Empresa</th>
            <th data-field="id">Marca</th>
            <th data-field="id">Modelo</th>
            <th data-field="id">Color</th>
            <th data-field="acctions">Acciones</th>

          </tr>
        </thead>

        <tbody>
          <tr ng-repeat="volqueta in volquetasVm.volquetas">
            <td>{{volqueta.PLACA}}</td>
            <td>{{volqueta.EMPRESA}}</td>
            <td>{{volqueta.MARCA}}</td>
            <td>{{volqueta.MODELO_VOLQUETA}}</td>
            <td>{{volqueta.COLOR_VOLQUETA}}</td>
            <td>{{volqueta.NOMBRE_USUARIO}}</td>

            <td>
              <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>

                <md-button class="md-fab md-primary " aria-label="Editar" ng-click="volquetasVm.openEditModal(volqueta)">
                  <md-icon md-font-icon="mdi mdi-pencil"></md-icon>
                </md-button>

                <md-button class="md-fab red" aria-label="Eliminar" ng-click="volquetasVm.confirmDelete(volqueta)">
                  <md-icon md-font-icon="mdi mdi-delete"></md-icon>
                </md-button>

              </section>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="row">
      <div class="fixed-action-btn" style="bottom: 5px; right: 24px;">
        <md-button class="md-fab md-fab-bottom-right blue" md-ripple-size="partial" aria-label="Crear" ng-click="volquetasVm.openModal()" ng-hide="isOpenRight()">
          <md-icon md-font-icon="mdi mdi-plus"></md-icon>
        </md-button>
      </div>
    </div>

  </div>
</section>
